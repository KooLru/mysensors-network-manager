webpackJsonp([2],{372:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e(0),o=e.n(r),a=e(6),i=(e.n(a),e(437)),s=e(45),c=e(389),u=e(46),f={container:e.i(a.css)({width:350,minWidth:"90%"})};t.default=function(n){var t=n.network,r=n.format,l=void 0===r?"arduino":r,p=l,m=function(n){return p=n},d=function(n){e.i(i.a)(t,p),e.i(u.d)()};return o.a.createElement("div",{className:f.container},o.a.createElement("h1",null,"Create a backup"),o.a.createElement("div",{className:e.i(a.css)({textAlign:"center"})},o.a.createElement(c.a,{format:p,onChange:m})),o.a.createElement("footer",null,o.a.createElement(s.a,{onClick:d},"Download")))}},389:function(n,t,e){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function o(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?n:t}function a(n,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var i=e(0),s=e.n(i),c=e(88),u=e(45),f=e(20),l=e(6),p=(e.n(l),function(){function n(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}return function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}}()),m={switcherContainer:e.i(l.css)(c.a,{"& li":e.i(l.css)(c.b,{"& span, & button":{padding:"7px 10px 5px",display:"flex",alignItems:"center",textDecoration:"none",fontSize:13,"&:hover":{textDecoration:"none"},"& svg":{marginRight:5}},"&.selected":c.c})})},d=function(n){function t(n){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return e.state={format:n.format||"arduino"},e}return a(t,n),p(t,[{key:"_onChange",value:function(n){this.setState({format:n}),(this.props.onChange||function(){})(n)}},{key:"render",value:function(){var n=this;return s.a.createElement("ul",{className:m.switcherContainer},s.a.createElement("li",{className:"arduino"===this.state.format&&"selected"},"arduino"===this.state.format?s.a.createElement("span",null,s.a.createElement(f.i,{height:18})," Arduino"):s.a.createElement(u.b,{onClick:function(t){return n._onChange("arduino")}},s.a.createElement(f.i,{height:18})," Arduino")),s.a.createElement("li",{className:"pio"===this.state.format&&"selected"},"pio"===this.state.format?s.a.createElement("span",null,s.a.createElement(f.j,{size:18})," PlatformIO"):s.a.createElement(u.b,{onClick:function(t){return n._onChange("pio")}},s.a.createElement(f.j,{size:18})," PlatformIO")))}}]),t}(i.Component);t.a=d},390:function(n,t,e){"use strict";function r(n){if(Array.isArray(n)){for(var t=0,e=Array(n.length);t<n.length;t++)e[t]=n[t];return e}return Array.from(n)}e.d(t,"a",function(){return u}),e.d(t,"b",function(){return f});var o=e(9),a=e(391),i=e(161),s=function(n){var t=n.key;return JSON.parse(window.localStorage.getItem(t)).text},c="\nInstructions to flash your node:\n\ntl;dr:\n* Flash the SecurityPersonalizer to your node first.\n* Then flash the main sketch next.\n\nDetails:\nFlashing the SecurityPersonalizer sketch to your node prepares it for signing\nand encryption. It writes the necessary security keys to your node's EEPROM\n(in case of software signing) or to the ATSHA204 (in case you are using the\nATSHA204 chip). This ensures that your sensor data isn't visible to your\nneighbours, and that snoopers can't snoop.\n".trim(),u=function(n){var t=n.network.nodes.find(function(t){return t.id===n.nodeId}).name.trim();return[{path:t+"/README.md",contents:c}].concat(r(o.a.map(function(r){return{path:t+"/SecurityPersonalizer/"+r.name,contents:"sp-ino"===r.key?e.i(a.a)(n,s(r)):s(r)}})),r(o.b.map(function(n){return{path:t+"/"+t+"/"+n.name,contents:s(n)}})),r(e.i(i.a)(n,t).map(function(n){return{path:t+"/"+t+"/"+n.name,contents:n.contents}})))},f=function(n){var t=n.network.nodes.find(function(t){return t.id===n.nodeId}).name.trim();return[{path:t+"/README.md",contents:c}].concat(r(o.a.map(function(r){return{path:t+"/SecurityPersonalizer/src/"+r.name,contents:"sp-ino"===r.key?e.i(a.a)(n,s(r)):s(r)}})),[{path:t+"/SecurityPersonalizer/platformio.ini",contents:e.i(a.b)()}],r(o.b.map(function(n){return{path:t+"/"+t+"/src/"+n.name,contents:s(n)}})),r(e.i(i.a)(n,t).map(function(n){return{path:t+"/"+t+"/src/"+n.name,contents:n.contents}})),[{path:t+"/"+t+"/platformio.ini",contents:e.i(i.b)(n)}])}},391:function(n,t,e){"use strict";e.d(t,"b",function(){return o});var r=function(n){return n.match(/.{2}/g).map(function(n){return"0x"+n}).join()};t.a=function(n,t){var e=n.network,o=n.nodeId,a=e.nodes.find(function(n){return n.id===o});return t.split("\n").map(function(n){return n.trim().startsWith("#define MY_HMAC_KEY")?"#define MY_HMAC_KEY "+r(e.hmac):n.trim().startsWith("#define MY_AES_KEY")?"#define MY_AES_KEY "+r(e.aes):n.trim().startsWith("#define MY_SOFT_SERIAL")?"#define MY_SOFT_SERIAL "+r(a.key):"//#define PERSONALIZE_SOFT"===n.trim()&&"software"===a.signing?"#define PERSONALIZE_SOFT":"//#define PERSONALIZE_ATSHA204A"===n.trim()&&"atsha204"===a.signing?"#define PERSONALIZE_ATSHA204A":n}).join("\n")};var o=function(){return"\n; PlatformIO Project Configuration File\n;\n;   Build options: build flags, source filter, extra scripting\n;   Upload options: custom port, speed and extra flags\n;   Library options: dependencies, extra library storages\n;\n; Please visit documentation for the other options and examples\n; http://docs.platformio.org/en/stable/projectconf.html\n\n[env:pro8MHzatmega328]\nplatform = atmelavr\nframework = arduino\nboard = pro8MHzatmega328\nlib_deps = https://github.com/mysensors/MySensors#development\n"}},437:function(n,t,e){"use strict";function r(n){if(Array.isArray(n)){for(var t=0,e=Array(n.length);t<n.length;t++)e[t]=n[t];return e}return Array.from(n)}e.d(t,"a",function(){return a});var o=e(390),a=function(n,t){var a="arduino"===t?o.a:o.b,i="Network-"+n.id;return e.e(3).then(e.bind(null,405)).then(function(t){var e=t.JSZip,o=t.saveAs,s=new e;return n.nodes.reduce(function(t,e){return[].concat(r(t),r(a({network:n,nodeId:e.id}).map(function(n){var t=n.path,e=n.contents;return{path:i+"/"+t,contents:e}})))},[{path:i+"/network.json",contents:JSON.stringify(n,null,2)}]).forEach(function(n){var t=n.path,e=n.contents;return s.file(t,e)}),s.generateAsync({type:"blob"}).then(function(n){return o(n,""+i)})})}}});
//# sourceMappingURL=2.7acb7d25.chunk.js.map